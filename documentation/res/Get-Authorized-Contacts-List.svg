<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1102px" preserveAspectRatio="none" style="width:964px;height:1102px;" version="1.1" viewBox="0 0 964 1102" width="964px" zoomAndPan="magnify"><defs><filter height="300%" id="fs9wctyx0f45n" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#ADD8E6" height="1087.5957" style="stroke: #A80036; stroke-width: 1.0;" width="209" x="323.5" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="81" x="387.5" y="16.5684">Account API</text><rect fill="#90EE90" height="1087.5957" style="stroke: #A80036; stroke-width: 1.0;" width="284.5" x="668.5" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="768.25" y="16.5684">Microservice</text><rect fill="#FFFFFF" filter="url(#fs9wctyx0f45n)" height="575.7188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="423" y="96.4883"/><rect fill="#FFFFFF" filter="url(#fs9wctyx0f45n)" height="131.0645" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="745" y="154.6211"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="31" x2="31" y1="86.4883" y2="1005.1074"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="427.5" x2="427.5" y1="86.4883" y2="1005.1074"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="749.5" x2="749.5" y1="86.4883" y2="1005.1074"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="910" x2="910" y1="86.4883" y2="1005.1074"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="8" y="83.5352">Client</text><ellipse cx="31" cy="13" fill="#FEFECE" filter="url(#fs9wctyx0f45n)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M31,21 L31,48 M18,29 L44,29 M31,48 L18,63 M31,48 L44,63 " fill="none" filter="url(#fs9wctyx0f45n)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="8" y="1017.6426">Client</text><ellipse cx="31" cy="1030.5957" fill="#FEFECE" filter="url(#fs9wctyx0f45n)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M31,1038.5957 L31,1065.5957 M18,1046.5957 L44,1046.5957 M31,1065.5957 L18,1080.5957 M31,1065.5957 L44,1080.5957 " fill="none" filter="url(#fs9wctyx0f45n)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="195" x="327.5" y="83.5352">Get Authorized Contacts List</text><path d="M407.5,42 L407.5,66 M407.5,54 L424.5,54 " fill="none" filter="url(#fs9wctyx0f45n)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="436.5" cy="54" fill="#FEFECE" filter="url(#fs9wctyx0f45n)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="195" x="327.5" y="1017.6426">Get Authorized Contacts List</text><path d="M407.5,1024.5957 L407.5,1048.5957 M407.5,1036.5957 L424.5,1036.5957 " fill="none" filter="url(#fs9wctyx0f45n)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="436.5" cy="1036.5957" fill="#FEFECE" filter="url(#fs9wctyx0f45n)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="672.5" y="83.5352">Contacts Microservice</text><path d="M729.5,42 L729.5,66 M729.5,54 L746.5,54 " fill="none" filter="url(#fs9wctyx0f45n)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="758.5" cy="54" fill="#FEFECE" filter="url(#fs9wctyx0f45n)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="672.5" y="1017.6426">Contacts Microservice</text><path d="M729.5,1024.5957 L729.5,1048.5957 M729.5,1036.5957 L746.5,1036.5957 " fill="none" filter="url(#fs9wctyx0f45n)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="758.5" cy="1036.5957" fill="#FEFECE" filter="url(#fs9wctyx0f45n)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="871" y="83.5352">Cassandra</text><path d="M892,34 C892,24 910,24 910,24 C910,24 928,24 928,34 L928,60 C928,70 910,70 910,70 C910,70 892,70 892,60 L892,34 " fill="#FEFECE" filter="url(#fs9wctyx0f45n)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M892,34 C892,44 910,44 910,44 C910,44 928,44 928,34 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="72" x="871" y="1017.6426">Cassandra</text><path d="M892,1030.5957 C892,1020.5957 910,1020.5957 910,1020.5957 C910,1020.5957 928,1020.5957 928,1030.5957 L928,1056.5957 C928,1066.5957 910,1066.5957 910,1066.5957 C910,1066.5957 892,1066.5957 892,1056.5957 L892,1030.5957 " fill="#FEFECE" filter="url(#fs9wctyx0f45n)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M892,1030.5957 C892,1040.5957 910,1040.5957 910,1040.5957 C910,1040.5957 928,1040.5957 928,1030.5957 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#fs9wctyx0f45n)" height="575.7188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="423" y="96.4883"/><rect fill="#FFFFFF" filter="url(#fs9wctyx0f45n)" height="131.0645" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="745" y="154.6211"/><polygon fill="#A80036" points="411,113.6211,421,117.6211,411,121.6211,415,117.6211" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31" x2="417" y1="117.6211" y2="117.6211"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="368" x="38" y="112.5552">GET /v1/customer/accounts/{accountId}/contacts</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="433" x2="480" y1="141.9316" y2="141.9316"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="480" x2="480" y1="141.9316" y2="154.9316"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="439" x2="480" y1="154.9316" y2="154.9316"/><polygon fill="#A80036" points="449,150.9316,439,154.9316,449,158.9316,445,154.9316" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="445" y="137.1895">Check authorization</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="743" x2="733" y1="189.0645" y2="185.0645"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="743" x2="733" y1="189.0645" y2="193.0645"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="433" x2="744" y1="189.0645" y2="189.0645"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="440" y="183.9985">GET /v1/contact/accounts/{accountId}</text><path d="M438,202.0645 L438,227.0645 L553,227.0645 L553,212.0645 L543,202.0645 L438,202.0645 " fill="#FBFB77" filter="url(#fs9wctyx0f45n)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M543,202.0645 L543,212.0645 L553,212.0645 L543,202.0645 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="monospace" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="444" y="219.3091">apiKey</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="496" y="219.6328">header</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="908" x2="898" y1="257.6855" y2="253.6855"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="908" x2="898" y1="257.6855" y2="261.6855"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="755" x2="909" y1="257.6855" y2="257.6855"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="762" y="252.9434">Fetch contact details</text><polygon fill="#A80036" points="766,267.6855,756,271.6855,766,275.6855,762,271.6855" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="760" x2="909" y1="271.6855" y2="271.6855"/><polygon fill="#A80036" points="444,281.6855,434,285.6855,444,289.6855,440,285.6855" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="438" x2="749" y1="285.6855" y2="285.6855"/><path d="M395,298.6855 L395,614.6855 L741,614.6855 L741,308.6855 L731,298.6855 L395,298.6855 " fill="#FBFB77" filter="url(#fs9wctyx0f45n)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M731,298.6855 L731,308.6855 L741,308.6855 L731,298.6855 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="401" y="316.2539">[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="417" y="331.5645">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="433" y="346.875">"accountNumber": "694762329",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="433" y="362.1855">"contactId": "18057648",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="433" y="377.4961">"role": "Primary",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="433" y="392.8066">"firstName": "GEORGE",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="433" y="408.1172">"middleName": null,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="433" y="423.4277">"lastName": "WENSING",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="293" x="433" y="438.7383">"effectiveDate": "2019-02-03 00:00:00+0000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="417" y="454.0488">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="417" y="469.3594">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="433" y="484.6699">"accountNumber": "694762329",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="433" y="499.9805">"contactId": "CO1012172333",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="433" y="515.291">"role": "General Contact",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="433" y="530.6016">"firstName": "krista",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="433" y="545.9121">"middleName": null,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="433" y="561.2227">"lastName": "hartvich",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="293" x="433" y="576.5332">"effectiveDate": "1753-01-01 00:00:00+0000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="417" y="591.8438">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="401" y="607.1543">]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="433" x2="475" y1="645.207" y2="645.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="475" x2="475" y1="645.207" y2="658.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="434" x2="475" y1="658.207" y2="658.207"/><polygon fill="#A80036" points="444,654.207,434,658.207,444,662.207,440,658.207" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="440" y="640.4648">Map response</text><polygon fill="#A80036" points="42,668.207,32,672.207,42,676.207,38,672.207" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="36" x2="427" y1="672.207" y2="672.207"/><path d="M175,685.207 L175,985.207 L419,985.207 L419,695.207 L409,685.207 L175,685.207 " fill="#FBFB77" filter="url(#fs9wctyx0f45n)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M409,685.207 L409,695.207 L419,695.207 L409,685.207 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="181" y="702.7754">[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="197" y="718.0859">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="213" y="733.3965">"id": "18057648",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="213" y="748.707">"name": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="229" y="764.0176">"firstName": "George",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="229" y="779.3281">"lastName": "Wensing"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="213" y="794.6387">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="213" y="809.9492">"role": "Account Holder",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="213" y="825.2598">"effectiveDate": "2019-02-03"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="197" y="840.5703">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="197" y="855.8809">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="213" y="871.1914">"id": "CO1012172333",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="213" y="886.502">"name": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="229" y="901.8125">"firstName": "Krista",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="229" y="917.123">"lastName": "Hartvich"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="213" y="932.4336">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="213" y="947.7441">"role": "Authorized Contact"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="197" y="963.0547">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="181" y="978.3652">]</text><!--
@startuml

actor Client

box "Account API" #LightBlue
    boundary "Get Authorized Contacts List" as AuthorizedContactsList
end box

box "Microservice" #LightGreen
    boundary "Contacts Microservice" as Contacts
	database Cassandra
end box

activate AuthorizedContactsList

Client -> AuthorizedContactsList: ""GET /v1/customer/accounts/{accountId}/contacts""

AuthorizedContactsList -> AuthorizedContactsList: Check authorization

activate Contacts

AuthorizedContactsList ->> Contacts: ""GET /v1/contact/accounts/{accountId}""
note right of AuthorizedContactsList : ""apiKey"" header
Contacts ->> Cassandra: Fetch contact details
Contacts <- - Cassandra
AuthorizedContactsList <- - Contacts
note left of Contacts
[
    {
        "accountNumber": "694762329",
        "contactId": "18057648",
        "role": "Primary",
        "firstName": "GEORGE",
        "middleName": null,
        "lastName": "WENSING",
        "effectiveDate": "2019-02-03 00:00:00+0000"
    },
    {
        "accountNumber": "694762329",
        "contactId": "CO1012172333",
        "role": "General Contact",
        "firstName": "krista",
        "middleName": null,
        "lastName": "hartvich",
        "effectiveDate": "1753-01-01 00:00:00+0000"
    }
]
end note

deactivate Contacts

AuthorizedContactsList -> AuthorizedContactsList: Map response
Client <- AuthorizedContactsList
note left of AuthorizedContactsList
[
    {
        "id": "18057648",
        "name": {
            "firstName": "George",
            "lastName": "Wensing"
        },
        "role": "Account Holder",
        "effectiveDate": "2019-02-03"
    },
    {
        "id": "CO1012172333",
        "name": {
            "firstName": "Krista",
            "lastName": "Hartvich"
        },
        "role": "Authorized Contact"
    }
]
end note

deactivate AuthorizedContactsList

@enduml

PlantUML version 1.2018.13(Mon Nov 26 12:11:51 EST 2018)
(APACHE source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 11.0.2+9-LTS
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: CA
--></g></svg>